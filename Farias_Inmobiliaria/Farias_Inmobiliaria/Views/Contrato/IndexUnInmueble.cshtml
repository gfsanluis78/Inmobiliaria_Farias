@model IEnumerable<Farias_Inmobiliaria.Models.Contrato>

@{
    ViewData["Title"] = "Contratos";
    Inmueble inmueble = ViewBag.inmueble;
}

<h1>Contratos de @inmueble.Tipo en @inmueble.Direccion</h1>
<h4>Propietario: @inmueble.Duenio.Nombre @inmueble.Duenio.Apellido</h4>
<h4>Codigo: @inmueble.IdInmueble</h4>

@{if(inmueble.IdInmueble > 0)
    {
        <p>
            <a class="btn btn-primary" asp-action="Create">Crear Nuevo</a>
        </p>


        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.IdContrato)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IdGarante)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IdInmueble)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IdInquilino)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FechaInicio)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FechaFin)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.MontoAlquiler)
                    </th>
                    <th>
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.IdContrato)
                        </td>
                        <td>
                            @(item.Garante.Nombre + " " + item.Garante.Apellido)
                        </td>
                        <td>
                            @(item.Inmueble.Tipo + "-" + item.Inmueble.Direccion)
                        </td>
                        <td>
                            @(item.Inquilino.Nombre + " " + item.Inquilino.Apellido)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FechaInicio)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FechaFin)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.MontoAlquiler)
                        </td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.IdContrato" title="Editar"><span class="lnr lnr-pencil"></span></a>&nbsp; |
                            <a asp-action="Details" asp-route-id="@item.IdContrato" title="Detalles"><span class="lnr lnr-eye"></span></a>&nbsp; |
                            <a asp-action="Delete" asp-route-id="@item.IdContrato" title="Eliminar"><span class="lnr lnr-cross"></span></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    }
    else
    {
        <h3>No hay contratos en este inmueble</h3>

    }
}

